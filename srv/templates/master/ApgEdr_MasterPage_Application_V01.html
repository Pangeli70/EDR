<!-- 
  * ---------------------------------------------------------------------------
  * @module 
      [ApgEdr/srv/templates/master]
  * @file
      [ApgEdr_MasterPage_Application_V01]
  * @author
      [APG] Angeli Paolo Giusto
  * @description 
      Master Page for pages with 3D logo based on the Bunny.net CDN that use Pico.css.
  * @requires
      Tng.ApgTng_IPageData (V1.0)
  * @version
      0.1.0 APG 20240630
      0.1.1 APG 20240713 Custom Logo
      0.1.2 APG 20240728 Stripped external references
      1.0.0 APG 20240813 Custom head + custom styles
      1.0.1 APG 20240814 Version + isDeploy + styles
  * ---------------------------------------------------------------------------- 
-->


<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <meta
      name="author"
      content="APG Angeli Paolo Giusto"
    />
    <meta
      name="generator"
      content="Deno+Drash"
    />
    <meta
      name="keywords"
      content="Deno, Drash, APG, Angeli Paolo Giusto, Paolo Angeli"
    />

    <title><% microservice.name %> <% page.title %></title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css"
    />

    <link
      rel="stylesheet"
      href="<% page.assetsHost %>/assets/css/<% page.customCss %>.css"
    />

    <link
      rel="stylesheet"
      href="/assets/css/ApgEdr_Pico_Custom_Fancy_V01.css"
    >

    <link
      rel="icon"
      href="<% page.assetsHost %>/assets/ico/<% page.favicon %>.ico"
    />

    <script
      async
      src="https://ga.jspm.io/npm:es-module-shims@1.5.8/dist/es-module-shims.js"
    ></script>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.162.0/build/three.module.js",
                "GLTFLoader": "https://unpkg.com/three@0.162.0/examples/jsm/loaders/GLTFLoader.js",
                "ApgLogo3D": "<% page.assetsHost %>/assets/js/ApgEdr_Logo3D_V01.js"
            }
        }
    </script>

    <script
      type="module"
      src="<% page.assetsHost %>/assets/js/<% page.logoJs %>.js"
      defer
    ></script>

    <% if(page.customHead) { %>
    <% page.customHead %>
    <% } %>

    <% if(page.customCss) { %>
    <% page.customStyles %>
    <% } %>

  </head>

  <body>
    <header style="padding-bottom: 0px;">
      <table style="margin: 0">
        <tr>
          <td style="width: 4.5rem; padding: 0.5rem">
            <a href="/">
              <div
                style="
                      height: 4rem;
                      width: 4rem;
                      border: 1px;
                      border-style: hidden;
                      border-color: black;"
                id="ApgEdr_3DLogo_Placeholder_Div"
              >
                <input
                  type="hidden"
                  id="ApgEdr_3DLogo_AssetsHost_Hidden"
                  value="<% page.assetsHost %>"
                >
              </div>
            </a>
          </td>
          <td style="padding: 0.5rem">

            <h3 style="margin-top: auto; margin-bottom: auto">
              <% page.title %>
            </h3>

          </td>
          <td>
            <h6 style="margin: 0; text-align: right;">
              <% const env = (microservice.isDeploy)? "Prod": "Dev" ; %>
              <% microservice.name %> <% microservice.version %> (<% env %>)
              <br><br>
              <% user.email %>
            </h6>
          </td>
        </tr>
      </table>

      <% partial("/partials/ApgEdr_HtmlPagePartial_TopMenu.html") %>

    </header>

    <main style="padding-top: 0px;">

      <% yield %>

    </main>

    <footer>
      <hr>
      <h6 style="font-size: small; text-align: center;">
        <small>
          <em>Â© 2017-2024
            <a
              href="https://github.com/Pangeli70"
              target="_blank"
            >APG</a>: Angeli Paolo Giusto

            <br>

            Made with <span style="color: red;">&#10084;</span> using
            <a
              href="https://docs.deno.com/runtime/manual"
              target="_blank"
            >Deno</a>,
            <a
              href="https://docs.deno.com/deploy/manual"
              target="_blank"
            >Deno deploy</a>,
            <a
              href="https://drash.land/drash/v2.x/getting-started/introduction"
              target="_blank"
            >Drash</a>
            <a
              href="https://bunny.net/"
              target="_blank"
            >Bunny.net Cdn</a>
            and semantic classless Css
            <a
              href="https://picocss.com/docs"
              target="_blank"
            >Pico</a>

            <br>
            <% microservice.name %>: <% microservice.title %> ver.<% microservice.version %>

            <br>
            [<% page.title %>] rendered <% page.rendered %> in <<PROC_TIME>>

          </em>
        </small>
      </h6>
    </footer>

  </body>

</html>